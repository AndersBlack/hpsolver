# hp_solver

hp_solver is a Rust application for solving hierarchical planning problems. <br>
The project has been develop as the Master thesis in Computer Science for Anders Larsen and Andreas Kinch Jessen in 2024. 

## Installation

The application requires Cargo and Rust to be installed on the device.

## Usage

The _/src/bin/_ folder contains runnable instances of the application features which will be explained below. <br>
Problems can be located in the _/problems_ folder

### Running an individual problem

In order to run a single problem, simply run the **run_depth_first** bin using cargo:

```
cargo run --bin run_depth_first path/to/problem/file.hddl path/to/domain/file.hddl
```

### Running a folder of problems

In order to run a single problem, simply run the **run_competition_folder** bin using cargo:

```
cargo run --bin run_competition_folder path/to/problem/folder/
```

A binary has been prepared to run a subset of problems. This can be run using the following command

```
cargo run --bin run_all
```

### Running the entire [IPC2020](https://ipc2020.hierarchical-task.net/) 

The following runs the IPC2020 competition in its entirety. Be aware that since every problem has 30 minutes of available runtime and the complete competition contains 1116 problems, this command can potentially run for a very long time.

```
cargo run --bin run_competition
```

## Image

An image containing the application can be found at [Docker Hub](https://hub.docker.com/r/blackdux/hp_solver_image). It should be noted that in order to imitate the competition as close as possible, the container should be limited to 8gb of RAM and 1 CPU. These parameters are set at runtime.

To run the image after pulling it, simply run the command 
```
docker run -it blackdux/hp_solver_image
```

In order to image with the competition settings, specify the RAM and CPU either in docker desktop or when running the image:

```
docker run -it blackdux/hp_solver_image --memory="8g" --cpus="1"
```

## Additional Software

In the _additional_software_ folder is software used to verify the solutions generated by the solver. We are utilizing the functionality of [PandaPiParser](https://github.com/panda-planner-dev/pandaPIparser) which is developed by the hosts of the IPC2020

## Contribution

Special thanks to Luis?
